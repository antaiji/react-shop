{"version":3,"sources":["Components/Header.jsx","Components/Preloader.jsx","Components/GoodsItem.jsx","Components/GoodsList.jsx","Components/Cart.jsx","Components/BasketItem.jsx","Components/BasketList.jsx","Components/Alert.jsx","Components/Shop.jsx","config.js","Components/Footer.jsx","App.js","index.js"],"names":["Header","className","href","id","Preloader","GoodsItem","props","mainId","displayName","displayDescription","price","displayAssets","addToOrder","src","full_background","alt","onClick","regularPrice","GoodsList","goods","length","map","item","Cart","quantity","handleBasketShow","Function","prototype","BasketItem","removeFromBasket","changeQuantity","BasketList","order","totalPrice","reduce","sum","el","Alert","name","closeAlert","useEffect","timerId","setTimeout","clearTimeout","Shop","useState","setGoods","loading","setLoading","setOrder","isBasketShown","setBasketShown","alertName","setAlertName","fetch","headers","Authorization","process","then","response","json","data","shop","itemObj","find","newOrder","orderItem","newItem","filter","value","Footer","Date","getFullYear","App","Fragment","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.36c152d9.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction Header() {\n  return (\n    <nav className=\"blue darken-4\">\n      <div className=\"nav-wrapper\">\n        <a href=\"!#\" className=\"brand-logo\">\n          React Shop\n        </a>\n        <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n          <li>\n            <a href=\"!#\">Repo</a>\n          </li>\n        </ul>\n      </div>\n    </nav>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nfunction Preloader() {\n  return (\n    <div className=\"preloader-wrapper big active\">\n      <div className=\"spinner-layer spinner-blue-only\">\n        <div className=\"circle-clipper left\">\n          <div className=\"circle\"></div>\n        </div>\n        <div className=\"gap-patch\">\n          <div className=\"circle\"></div>\n        </div>\n        <div className=\"circle-clipper right\">\n          <div className=\"circle\"></div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Preloader;\n","import React from \"react\";\n\nfunction GoodsItem(props) {\n  const {\n    mainId,\n    displayName,\n    displayDescription,\n    price,\n    displayAssets,\n    addToOrder,\n  } = props;\n\n  function handleAdd() {\n    addToOrder({\n      mainId,\n      displayName,\n      price,\n    });\n  }\n\n  return (\n    <div className=\"card\">\n      <div className=\"card-image\">\n        <img src={displayAssets[0].full_background} alt={displayName} />\n      </div>\n      <div className=\"card-content\">\n        <span className=\"card-title\">{displayName}</span>\n        <p>{displayDescription}</p>\n      </div>\n      <div className=\"card-action\">\n        <button className=\"btn teal darken-1\" onClick={handleAdd}>\n          Купить\n        </button>\n        <span className=\"right pricefont\">{price.regularPrice} руб</span>\n      </div>\n    </div>\n  );\n}\n\nexport default GoodsItem;\n\n/*\nbanner: null\nbuyAllowed: true\ncategories: Array(1)\n  0: \"Panel 18\"\n  length: 1\n  __proto__: Array(0)\ndisplayAssets: Array(1)\n  0:\n    background: \"https://media.fortniteapi.io/images/cosmetics/1a85871a1f0765946cfab69cdd205bfc/v2/MI_Glider_ID_156_SummerBomber/background.png\"\n    displayAsset: \"DAv2_Glider_ID_156_SummerBomber\"\n    full_background: \"https://media.fortniteapi.io/images/cosmetics/1a85871a1f0765946cfab69cdd205bfc/v2/MI_Glider_ID_156_SummerBomber/info.ru.png\"\n    materialInstance: \"MI_Glider_ID_156_SummerBomber\"\n    url: \"https://media.fortniteapi.io/images/displayAssets/v2/DAv2_Glider_ID_156_SummerBomber/MI_Glider_ID_156_SummerBomber.png\"\n    __proto__: Object\n    length: 1\n    __proto__: Array(0)\ndisplayDescription: \"Ваши пляжи принадлежат нам.\"\ndisplayName: \"Пляжный захватчик\"\ndisplayType: \"Дельтаплан\"\nfirstReleaseDate: \"2019-07-07\"\ngiftAllowed: true\ngranted: Array(1)\n0:\naudio: null\ndescription: \"Ваши пляжи принадлежат нам.\"\ngameplayTags: (3) [\"Cosmetics.Source.ItemShop\", \"Cosmetics.Set.SunshineAndRainbows\", \"Cosmetics.Filter.Season.9\"]\nid: \"Glider_ID_156_SummerBomber\"\nimages: {icon: \"https://media.fortniteapi.io/images/1a85871a1f0765946cfab69cdd205bfc/transparent.png\", featured: \"https://media.fortniteapi.io/images/1a85871a1f0765946cfab69cdd205bfc/full_featured.png\", background: \"https://media.fortniteapi.io/images/cosmetics/1a85871a1f0765946cfab69cdd205bfc/v2/background.png\", full_background: \"https://media.fortniteapi.io/images/cosmetics/1a85871a1f0765946cfab69cdd205bfc/v2/info.ru.png\"}\nname: \"Пляжный захватчик\"\nrarity: {id: \"Uncommon\", name: \"НЕОБЫЧНЫЙ\"}\nseries: null\nset: {id: \"SunshineAndRainbows\", name: \"Солнышко и радуга\", partOf: \"Входит в набор «Солнышко и радуга».\"}\ntype: {id: \"glider\", name: \"Дельтаплан\"}\nvideo: null\n__proto__: Object\nlength: 1\n__proto__: Array(0)\ngroupIndex: 0\nmainId: \"Glider_ID_156_SummerBomber\"\nmainType: \"glider\"\nofferId: \"v2:/fc6f3e992ee881865f64b3a8d3537ecf195242cd62e20f3f1ad05de316aefd1c\"\npreviousReleaseDate: \"2021-07-06\"\nprice:\nfinalPrice: 500\nregularPrice: 500\n__proto__: Object\npriority: -3\nrarity:\nid: \"Uncommon\"\nname: \"НЕОБЫЧНЫЙ\"\n__proto__: Object\nsection:\nid: \"CosmicSummer8\"\nlandingPriority: 1\nname: \"Космическое лето\"\n__proto__: Object\nseries: null\nstoreName: \"BRSpecialFeatured\"\ntileSize: \"Normal\"\n*/\n","import React from \"react\";\nimport GoodsItem from \"./GoodsItem\";\n\nfunction GoodsList(props) {\n  const { goods = [], addToOrder } = props;\n\n  if (!goods.length) {\n    return <h3>Nothing found</h3>;\n  }\n\n  return (\n    <div className=\"goods\">\n      {goods.map((item) => (\n        <GoodsItem key={item.mainId} addToOrder={addToOrder} {...item} />\n      ))}\n    </div>\n  );\n}\n\nexport default GoodsList;\n","import React from \"react\";\n\nfunction Cart(props) {\n  const { quantity = 0, handleBasketShow = Function.prototype } = props;\n  return (\n    <div\n      className=\"cart light-green darken-2 white-text\"\n      onClick={handleBasketShow}\n    >\n      <i className=\"material-icons\">shopping_cart</i>\n      {quantity ? <span className=\"cart-quantity\">{quantity}</span> : null}\n    </div>\n  );\n}\n\nexport default Cart;\n","import React from \"react\";\n\nfunction BasketItem(props) {\n  const {\n    mainId,\n    displayName,\n    price,\n    quantity,\n    removeFromBasket = Function.prototype,\n    changeQuantity = Function.prototype,\n  } = props;\n\n  return (\n    <li className=\"collection-item\">\n      {displayName}{\" \"}\n      <span\n        className=\"plumin-button grey lighten-2\"\n        onClick={() => changeQuantity(\"minus\", mainId)}\n      >\n        -\n      </span>\n      x{quantity}\n      <span\n        className=\"plumin-button grey lighten-2\"\n        onClick={() => changeQuantity(\"plus\", mainId)}\n      >\n        +\n      </span>{\" \"}\n      = {price.regularPrice * quantity} руб\n      <span\n        className=\"secondary-content\"\n        onClick={() => removeFromBasket(mainId)}\n      >\n        <i className=\"material-icons basket-delete\">close</i>\n      </span>\n    </li>\n  );\n}\n\nexport default BasketItem;\n","import React from \"react\";\nimport BasketItem from \"./BasketItem\";\n\nfunction BasketList(props) {\n  const {\n    order = [],\n    handleBasketShow = Function.prototype,\n    removeFromBasket = Function.prototype,\n    changeQuantity = Function.prototype,\n  } = props;\n\n  const totalPrice = order.reduce((sum, el) => {\n    return sum + el.price.regularPrice * el.quantity;\n  }, 0);\n\n  return (\n    <ul className=\"collection basket-list\">\n      <li className=\"collection-item active\">Корзина</li>\n      {order.length ? (\n        order.map((item) => (\n          <BasketItem\n            key={item.mainId}\n            {...item}\n            removeFromBasket={removeFromBasket}\n            changeQuantity={changeQuantity}\n          />\n        ))\n      ) : (\n        <li className=\"collection-item\">Корзина пуста</li>\n      )}\n      <li className=\"collection-item active\">\n        Общая стоимость: {totalPrice} руб\n      </li>\n      <li className=\"collection-item\">\n        <button className=\"btn-small green\"> Оформить </button>\n      </li>\n      <i className=\"material-icons basket-close\" onClick={handleBasketShow}>\n        close\n      </i>\n    </ul>\n  );\n}\n\nexport default BasketList;\n","import React, { useEffect } from \"react\";\n\nfunction Alert(props) {\n  const { name = \"\", closeAlert = Function.prototype } = props;\n\n  useEffect(() => {\n    const timerId = setTimeout(closeAlert, 3000);\n\n    return () => {\n      clearTimeout(timerId);\n    };\n  }, [name, closeAlert]);\n\n  return (\n    <div id=\"toast-container\">\n      <div className=\"toast\">{name} добавлен в корзину</div>\n    </div>\n  );\n}\n\nexport default Alert;\n","import React, { useState, useEffect } from \"react\";\nimport Preloader from \"./Preloader\";\nimport GoodsList from \"./GoodsList\";\nimport Cart from \"./Cart\";\nimport BasketList from \"./BasketList\";\nimport Alert from \"./Alert\";\n\nimport { API_KEY, API_URL } from \"../config.js\";\n\nfunction Shop() {\n  const [goods, setGoods] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [order, setOrder] = useState([]);\n  const [isBasketShown, setBasketShown] = useState(false);\n  const [alertName, setAlertName] = useState(\"\");\n\n  function handleBasketShow() {\n    setBasketShown(!isBasketShown);\n  }\n\n  useEffect(function getGoods() {\n    fetch(API_URL, {\n      headers: {\n        Authorization: API_KEY,\n      },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        data.shop && setGoods(data.shop);\n        setLoading(false);\n      });\n  }, []);\n\n  function addToOrder(itemObj) {\n    const isInOrder = order.find((item) => item.mainId === itemObj.mainId);\n\n    if (!isInOrder) {\n      const newItem = {\n        ...itemObj,\n        quantity: 1,\n      };\n\n      setOrder([...order, newItem]);\n    } else {\n      const newOrder = order.map((orderItem) => {\n        if (orderItem.mainId === itemObj.mainId) {\n          return {\n            ...orderItem,\n            quantity: orderItem.quantity + 1,\n          };\n        } else {\n          return orderItem;\n        }\n      });\n\n      setOrder(newOrder);\n    }\n    setAlertName(itemObj.displayName);\n  }\n\n  function removeFromBasket(mainId) {\n    const newOrder = order.filter((el) => el.mainId !== mainId);\n    setOrder(newOrder);\n  }\n\n  function changeQuantity(value, mainId) {\n    const newOrder = order.map((el) => {\n      if (el.mainId === mainId) {\n        if (value === \"minus\" && el.quantity > 0) {\n          el.quantity -= 1;\n        } else if (value === \"plus\") {\n          el.quantity += 1;\n        }\n      }\n\n      return el;\n    });\n\n    setOrder(newOrder);\n  }\n\n  function closeAlert() {\n    setAlertName(\"\");\n  }\n\n  return (\n    <main className=\"container content\">\n      <Cart quantity={order.length} handleBasketShow={handleBasketShow} />\n      {loading ? (\n        <Preloader />\n      ) : (\n        <GoodsList goods={goods} addToOrder={addToOrder} />\n      )}\n      {isBasketShown && (\n        <BasketList\n          order={order}\n          handleBasketShow={handleBasketShow}\n          removeFromBasket={removeFromBasket}\n          changeQuantity={changeQuantity}\n        />\n      )}\n      {alertName && <Alert name={alertName} closeAlert={closeAlert} />}\n    </main>\n  );\n}\n\nexport default Shop;\n","const API_KEY = process.env.REACT_APP_API_KEY;\n\nconst API_URL = \"https://fortniteapi.io/v2/shop?lang=ru\";\n\nexport { API_KEY, API_URL };\n","import React from \"react\";\n\nfunction Footer() {\n  return (\n    <footer className=\"page-footer blue darken-4\">\n      <div className=\"footer-copyright\">\n        <div className=\"container\">\n          © {new Date().getFullYear()} Copyright Text\n          <a className=\"blue-text text-lighten-4 right\" href=\"#!\">\n            Repo\n          </a>\n        </div>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\nimport Header from \"./Components/Header\";\nimport Shop from \"./Components/Shop\";\nimport Footer from \"./Components/Footer\";\n\nfunction App() {\n  return (\n    <React.Fragment>\n      <Header />\n      <Shop />\n      <Footer />\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}